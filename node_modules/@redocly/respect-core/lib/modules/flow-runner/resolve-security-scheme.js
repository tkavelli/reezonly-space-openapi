export function resolveSecurityScheme({ ctx, security, operation, }) {
    const { scheme, schemeName } = security;
    if (scheme) {
        return security.scheme;
    }
    if (!schemeName) {
        return undefined;
    }
    if (typeof schemeName === 'string' && schemeName.startsWith('$sourceDescriptions.')) {
        const [_, sourceName, schemeKey] = schemeName.split('.');
        const sourceDescription = sourceName && ctx.$sourceDescriptions[sourceName];
        const schemes = sourceDescription?.components?.securitySchemes;
        return schemeKey && schemes ? schemes[schemeKey] : undefined;
    }
    return operation?.securitySchemes?.[schemeName];
}
//# sourceMappingURL=resolve-security-scheme.js.map